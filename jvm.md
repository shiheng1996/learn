# JVM 内存结构
## 1.程序计数器 
### 定义: 
Program Counter Register  
物理上对应寄存器
### 作用: 
记住下一条jvm指令的执行地址
### 特点: 
* 线程私有
* 不会存在内存溢出
## 2.虚拟机栈 JVM Stacks  
(栈 先进后出)
### 定义
* 每个线程运行时所需要的内存,称为虚拟机栈
* 每个栈由多个栈帧(Frame)组成,栈帧对应对着每次方法调用时所占用的内存
* 每个线程只能有一个活动栈帧,对应着当前正在执行的那个方法
### 特点: 
* 线程私有
### 问题辨析
1. 垃圾回收是否涉及栈内存？
不涉及
2. 栈内存分配是否越大越好？
不是
3. 方法内的局部变量是否线程安全？
* 如果方法内局部变量没有逃离方法的作用范围，它是线程安全的
* 如果是局部变量引用了对象，并逃离方法的作用范围，需要考虑线程安全问题
### 栈内存溢出
* 栈帧过多 （方法递归调用）
* 栈帧过大
## 3.本地方法栈 Native Method Stacks
### 定义
给本地方法（C 或C++ 实现）的运行提供内存空间
### 特点: 
* 线程私有
## 4.堆 Heap
### 定义
通过new关键字创建的对象都会使用堆内存
### 特点
* 它是线程共享的，堆中对象都需要考虑线程安全的问题
* 有垃圾回收机制
### 堆内存溢出
## 5.方法区
### 定义
所有jvm线程共享的区域
存储了跟类的结构的相关信息  
### 组成
### 方法取内存溢出
### 运行时常量池


