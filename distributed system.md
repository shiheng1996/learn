# 分布式系统的优缺点
|  优点   | 缺点  |
|  ----  | ----  |
| 可靠性、高容错性:一台服务器的系统崩溃不会影响到其他的服务器。  | 故障排除难度高: 由于分布在多台服务器上，故障排除和诊断问题难度较高。|
| 可扩展性: 在分布式计算系统可以根据需要增加更多的机器。 | 网络基础设施成本高: 网络基础设置问题，包括传输、高负载、信息丢失问题。|
| 灵活性:他可以很容易的安装、实施和调试新的服务。| 安全性问题: 开放式系统的特性让分布式计算机系统存在着数据的安全性和共享的风险问题。 |
| 计算速度快:分布式计算机系统可以有多台计算机的计算能力，使得比其它系统有更快的处理速度。| - |
| 高性能:相较于集中式计算机网络集群可以提供更高的性能，及更好的性价比。| - |

# 分布式事务处理
## 分阶段提交 Two-phase Commit，2PC
### 流程
1. 准备阶段: 协调者询问参与者事务是否执行成功，参与者发回事务执行结果。
2. 提交阶段: 如果事务在每个参与者上都执行成功，事务协调者发送通知让参与者提交事务；否则，协调者发送通知让参与者回滚事务。
需要注意的是，在准备阶段，参与者执行了事务，但是还未提交。只有在提交阶段接收到协调者发来的通知后，才进行提交或者回滚。
### 问题
* 同步阻塞 所有事务参与者在等待其它参与者响应的时候都处于同步阻塞状态，无法进行其它操作。

* 单点问题 协调者在 2PC 中起到非常大的作用，发生故障将会造成很大影响。特别是在阶段二发生故障，所有参与者会一直等待状态，无法完成其它操作。

* 数据不一致 在阶段二，如果协调者只发送了部分 Commit 消息，此时网络发生异常，那么只有部分参与者接收到 Commit 消息，也就是说只有部分参与者提交了事务，使得系统数据不一致。

* 太过保守 任意一个节点失败就会导致整个事务失败，没有完善的容错机制。
